import{j as e}from"./jsx-runtime-u17CrQMm.js";import{_ as j,a as T,b as A,d as q,e as D}from"./command-Dn3Pj5h9.js";import{r as s}from"./iframe-D2adQVxF.js";import{S as L}from"./skeleton-A7behTLO.js";import{c as y}from"./utils-CDN07tui.js";import{C as M}from"./check-BxXoY-m7.js";import{B as N}from"./button-Du1quxP-.js";import"./index-dQplrDM4.js";import"./index-Bbu06GV2.js";import"./index-CFjqNmvz.js";import"./index-CNzI4M2U.js";import"./index-CumDR6qi.js";import"./index-B1Tud__i.js";import"./index-CLeoL7dB.js";import"./index-Bau_IoDf.js";import"./index-CEo0ouqn.js";import"./index-DBeuZUkV.js";import"./index-DGvVCBRP.js";import"./index-DNzyyUUe.js";import"./index-B_dwc0v8.js";import"./index-Jir0-7SB.js";import"./dialog-Cq8HjIct.js";import"./x-D-uj3tzR.js";import"./createLucideIcon-Bwevr7EZ.js";import"./search-C-Cetlpr.js";import"./preload-helper-PPVm8Dsz.js";import"./index-IVvN-40v.js";import"./index-B_jtOnfb.js";const x=({options:r,placeholder:i,emptyMessage:n,value:m,onValueChange:l,disabled:d,isLoading:t=!1})=>{const c=s.useRef(null),[b,v]=s.useState(!1),[f,R]=s.useState(m),[w,h]=s.useState(m?.label||""),S=s.useCallback(a=>{const o=c.current;if(o){if(b||v(!0),a.key==="Enter"&&o.value!==""){const u=r.find(k=>k.label===o.value);u&&(R(u),l?.(u))}a.key==="Escape"&&o.blur()}},[b,r,l]),C=s.useCallback(()=>{v(!1),h(f?.label)},[f]),E=s.useCallback(a=>{h(a.label),R(a),l?.(a),setTimeout(()=>{c?.current?.blur()},0)},[l]);return e.jsxs(j,{onKeyDown:S,children:[e.jsx("div",{children:e.jsx(T,{ref:c,value:w,onValueChange:t?void 0:h,onBlur:C,onFocus:()=>v(!0),placeholder:i,disabled:d,className:"text-base"})}),e.jsx("div",{className:"relative mt-1",children:e.jsx("div",{className:y("animate-in fade-in-0 zoom-in-95 absolute top-0 z-10 w-full rounded-xl bg-background outline-none",b?"block":"hidden"),children:e.jsxs(A,{className:"rounded-lg ring-1 ring-border",children:[t?e.jsx(j.Loading,{children:e.jsx("div",{className:"p-1",children:e.jsx(L,{className:"h-8 w-full"})})}):null,r.length>0&&!t?e.jsx(q,{children:r.map(a=>{const o=f?.value===a.value;return e.jsxs(D,{value:a.label,onMouseDown:u=>{u.preventDefault(),u.stopPropagation()},onSelect:()=>E(a),className:y("flex w-full items-center gap-2",o?null:"pl-8"),children:[o?e.jsx(M,{className:"w-4"}):null,a.label]},a.value)})}):null,t?null:e.jsx(j.Empty,{className:"select-none rounded-sm px-2 py-3 text-center text-sm",children:n})]})})})]})};x.__docgenInfo={description:"",methods:[],displayName:"AutoComplete",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:'Record<"value" | "label", string> & Record<string, string>',elements:[{name:"Record",elements:[{name:"union",raw:'"value" | "label"',elements:[{name:"literal",value:'"value"'},{name:"literal",value:'"label"'}]},{name:"string"}],raw:'Record<"value" | "label", string>'},{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"}]}],raw:"Option[]"},description:""},emptyMessage:{required:!0,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"intersection",raw:'Record<"value" | "label", string> & Record<string, string>',elements:[{name:"Record",elements:[{name:"union",raw:'"value" | "label"',elements:[{name:"literal",value:'"value"'},{name:"literal",value:'"label"'}]},{name:"string"}],raw:'Record<"value" | "label", string>'},{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"}]},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Option) => void",signature:{arguments:[{type:{name:"intersection",raw:'Record<"value" | "label", string> & Record<string, string>',elements:[{name:"Record",elements:[{name:"union",raw:'"value" | "label"',elements:[{name:"literal",value:'"value"'},{name:"literal",value:'"label"'}]},{name:"string"}],raw:'Record<"value" | "label", string>'},{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"}]},name:"value"}],return:{name:"void"}}},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""}}};const de={title:"UI/AutoComplete",component:x,tags:["autodocs"],argTypes:{options:{control:"object"},emptyMessage:{control:"text"},placeholder:{control:"text"},isLoading:{control:"boolean"},disabled:{control:"boolean"},value:{control:"object"}}},O=[{value:"next.js",label:"Next.js"},{value:"sveltekit",label:"SvelteKit"},{value:"nuxt.js",label:"Nuxt.js"},{value:"remix",label:"Remix"},{value:"astro",label:"Astro"},{value:"wordpress",label:"WordPress"},{value:"express.js",label:"Express.js"},{value:"nest.js",label:"Nest.js"}];function V(){const[r,i]=s.useState(!1),[n,m]=s.useState(!1),[l,d]=s.useState();return e.jsxs("div",{className:"not-prose mt-8 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{type:"button",onClick:()=>i(t=>!t),children:"Toggle loading"}),e.jsx(N,{type:"button",onClick:()=>m(t=>!t),children:"Toggle disabled"})]}),e.jsx(x,{options:O,emptyMessage:"No results.",placeholder:"Find something",isLoading:r,onValueChange:d,value:l,disabled:n}),e.jsxs("span",{className:"text-sm",children:["Current value: ",l?l?.label:"No value selected"]}),e.jsxs("span",{className:"text-sm",children:["Loading state: ",r?"true":"false"]}),e.jsxs("span",{className:"text-sm",children:["Disabled: ",n?"true":"false"]})]})}function _(){const[r,i]=s.useState(!1),[n,m]=s.useState(),[l,d]=s.useState([]);return s.useEffect(()=>{i(!0),fetch("https://jsonplaceholder.typicode.com/posts").then(t=>t.json()).then(t=>{d(t.map(c=>({value:c.id.toString(),label:c.title})))}).catch(t=>console.error(t)).finally(()=>i(!1))},[]),e.jsxs("div",{className:"not-prose mt-8 flex flex-col gap-4",children:[e.jsx(x,{options:l,emptyMessage:"No results.",placeholder:"Search posts...",isLoading:r,onValueChange:m,value:n}),e.jsxs("span",{className:"text-sm",children:["Current value: ",n?n?.label:"No value selected"]})]})}const p={render:()=>e.jsx(V,{})},g={render:()=>e.jsx(_,{})};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => <AutocompleteExample />
}`,...p.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <AutocompleteRemoteExample />
}`,...g.parameters?.docs?.source}}};const pe=["Example","Remote"];export{p as Example,g as Remote,pe as __namedExportsOrder,de as default};
