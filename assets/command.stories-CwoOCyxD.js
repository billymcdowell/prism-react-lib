import{j as u}from"./jsx-runtime-u17CrQMm.js";import{R as Le,P as Pe,O as Ue,C as Fe}from"./index-C5uLusiU.js";import{r as a}from"./iframe-ByXrCVSE.js";import{P as N}from"./index-_GgyENNU.js";import{u as F}from"./index-CrmZR6Lu.js";import{c as q}from"./index-CSosH7wG.js";import{c as $}from"./utils-CDN07tui.js";import"./dialog-Dx4afHeZ.js";import{S as Ke}from"./search-DJMQQrkd.js";import{C as Ge}from"./calendar-D_iVR-MW.js";import{U as xe}from"./user-SgiiIaS-.js";import{S as be}from"./settings-D9T47bvp.js";import{M as qe}from"./mail-C4yumVBr.js";import"./index-CkcuydbZ.js";import"./index-CQ1SDm7x.js";import"./index-iC3IO28h.js";import"./index-Dfg8qZAV.js";import"./index-DQMh9hd7.js";import"./index-D_8aezkX.js";import"./index-Bf57Gv7N.js";import"./index-B7kr8Nhj.js";import"./index-CB3_CspQ.js";import"./index-B2mXhRUC.js";import"./preload-helper-PPVm8Dsz.js";import"./x-Dh_s28nM.js";import"./createLucideIcon-BSah2I-h.js";var Ce=1,Oe=.9,Ve=.8,ze=.17,ne=.1,ae=.999,Be=.9999,Te=.99,He=/[\\\/_+.#"@\[\(\{&]/,We=/[\\\/_+.#"@\[\(\{&]/g,Je=/[\s-]/,Ie=/[\s-]/g;function oe(e,n,r,p,o,d,c){if(d===n.length)return o===e.length?Ce:Te;var f=`${o},${d}`;if(c[f]!==void 0)return c[f];for(var b=p.charAt(d),s=r.indexOf(b,o),v=0,g,E,y,k;s>=0;)g=oe(e,n,r,p,s+1,d+1,c),g>v&&(s===o?g*=Ce:He.test(e.charAt(s-1))?(g*=Ve,y=e.slice(o,s-1).match(We),y&&o>0&&(g*=Math.pow(ae,y.length))):Je.test(e.charAt(s-1))?(g*=Oe,k=e.slice(o,s-1).match(Ie),k&&o>0&&(g*=Math.pow(ae,k.length))):(g*=ze,o>0&&(g*=Math.pow(ae,s-o))),e.charAt(s)!==n.charAt(d)&&(g*=Be)),(g<ne&&r.charAt(s-1)===p.charAt(d+1)||p.charAt(d+1)===p.charAt(d)&&r.charAt(s-1)!==p.charAt(d))&&(E=oe(e,n,r,p,s+1,d+2,c),E*ne>g&&(g=E*ne)),g>v&&(v=g),s=r.indexOf(b,s+1);return c[f]=v,v}function we(e){return e.toLowerCase().replace(Ie," ")}function Xe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,oe(e,n,we(e),we(n),0,0,{})}var G='[cmdk-group=""]',le='[cmdk-group-items=""]',Ye='[cmdk-group-heading=""]',Se='[cmdk-item=""]',ye=`${Se}:not([aria-disabled="true"])`,se="cmdk-item-select",P="data-value",Qe=(e,n,r)=>Xe(e,n,r),Ee=a.createContext(void 0),O=()=>a.useContext(Ee),ke=a.createContext(void 0),de=()=>a.useContext(ke),je=a.createContext(void 0),Ne=a.forwardRef((e,n)=>{let r=U(()=>{var t,i;return{search:"",value:(i=(t=e.value)!=null?t:e.defaultValue)!=null?i:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),p=U(()=>new Set),o=U(()=>new Map),d=U(()=>new Map),c=U(()=>new Set),f=Re(e),{label:b,children:s,value:v,onValueChange:g,filter:E,shouldFilter:y,loop:k,disablePointerSelection:W=!1,vimBindings:R=!0,...V}=e,J=F(),ce=F(),X=F(),M=a.useRef(null),C=dt();_(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,I.emit()}},[v]),_(()=>{C(6,pe)},[]);let I=a.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>r.current,setState:(t,i,m)=>{var l,h,x,S;if(!Object.is(r.current[t],i)){if(r.current[t]=i,t==="search")ee(),Q(),C(1,Z);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(X);w?w.focus():(l=document.getElementById(J))==null||l.focus()}if(C(7,()=>{var w;r.current.selectedItemId=(w=L())==null?void 0:w.id,I.emit()}),m||C(5,pe),((h=f.current)==null?void 0:h.value)!==void 0){let w=i??"";(S=(x=f.current).onValueChange)==null||S.call(x,w);return}}I.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),Y=a.useMemo(()=>({value:(t,i,m)=>{var l;i!==((l=d.current.get(t))==null?void 0:l.value)&&(d.current.set(t,{value:i,keywords:m}),r.current.filtered.items.set(t,me(i,m)),C(2,()=>{Q(),I.emit()}))},item:(t,i)=>(p.current.add(t),i&&(o.current.has(i)?o.current.get(i).add(t):o.current.set(i,new Set([t]))),C(3,()=>{ee(),Q(),r.current.value||Z(),I.emit()}),()=>{d.current.delete(t),p.current.delete(t),r.current.filtered.items.delete(t);let m=L();C(4,()=>{ee(),m?.getAttribute("id")===t&&Z(),I.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{d.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:J,inputId:X,labelId:ce,listInnerRef:M}),[]);function me(t,i){var m,l;let h=(l=(m=f.current)==null?void 0:m.filter)!=null?l:Qe;return t?h(t,r.current.search,i):0}function Q(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,i=[];r.current.filtered.groups.forEach(l=>{let h=o.current.get(l),x=0;h.forEach(S=>{let w=t.get(S);x=Math.max(w,x)}),i.push([l,x])});let m=M.current;K().sort((l,h)=>{var x,S;let w=l.getAttribute("id"),z=h.getAttribute("id");return((x=t.get(z))!=null?x:0)-((S=t.get(w))!=null?S:0)}).forEach(l=>{let h=l.closest(le);h?h.appendChild(l.parentElement===h?l:l.closest(`${le} > *`)):m.appendChild(l.parentElement===m?l:l.closest(`${le} > *`))}),i.sort((l,h)=>h[1]-l[1]).forEach(l=>{var h;let x=(h=M.current)==null?void 0:h.querySelector(`${G}[${P}="${encodeURIComponent(l[0])}"]`);x?.parentElement.appendChild(x)})}function Z(){let t=K().find(m=>m.getAttribute("aria-disabled")!=="true"),i=t?.getAttribute(P);I.setState("value",i||void 0)}function ee(){var t,i,m,l;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=p.current.size;return}r.current.filtered.groups=new Set;let h=0;for(let x of p.current){let S=(i=(t=d.current.get(x))==null?void 0:t.value)!=null?i:"",w=(l=(m=d.current.get(x))==null?void 0:m.keywords)!=null?l:[],z=me(S,w);r.current.filtered.items.set(x,z),z>0&&h++}for(let[x,S]of o.current)for(let w of S)if(r.current.filtered.items.get(w)>0){r.current.filtered.groups.add(x);break}r.current.filtered.count=h}function pe(){var t,i,m;let l=L();l&&(((t=l.parentElement)==null?void 0:t.firstChild)===l&&((m=(i=l.closest(G))==null?void 0:i.querySelector(Ye))==null||m.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function L(){var t;return(t=M.current)==null?void 0:t.querySelector(`${Se}[aria-selected="true"]`)}function K(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(ye))||[])}function te(t){let i=K()[t];i&&I.setState("value",i.getAttribute(P))}function re(t){var i;let m=L(),l=K(),h=l.findIndex(S=>S===m),x=l[h+t];(i=f.current)!=null&&i.loop&&(x=h+t<0?l[l.length-1]:h+t===l.length?l[0]:l[h+t]),x&&I.setState("value",x.getAttribute(P))}function fe(t){let i=L(),m=i?.closest(G),l;for(;m&&!l;)m=t>0?st(m,G):it(m,G),l=m?.querySelector(ye);l?I.setState("value",l.getAttribute(P)):re(t)}let he=()=>te(K().length-1),ve=t=>{t.preventDefault(),t.metaKey?he():t.altKey?fe(1):re(1)},ge=t=>{t.preventDefault(),t.metaKey?te(0):t.altKey?fe(-1):re(-1)};return a.createElement(N.div,{ref:n,tabIndex:-1,...V,"cmdk-root":"",onKeyDown:t=>{var i;(i=V.onKeyDown)==null||i.call(V,t);let m=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||m))switch(t.key){case"n":case"j":{R&&t.ctrlKey&&ve(t);break}case"ArrowDown":{ve(t);break}case"p":case"k":{R&&t.ctrlKey&&ge(t);break}case"ArrowUp":{ge(t);break}case"Home":{t.preventDefault(),te(0);break}case"End":{t.preventDefault(),he();break}case"Enter":{t.preventDefault();let l=L();if(l){let h=new Event(se);l.dispatchEvent(h)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:ct},b),H(e,t=>a.createElement(ke.Provider,{value:I},a.createElement(Ee.Provider,{value:Y},t))))}),Ze=a.forwardRef((e,n)=>{var r,p;let o=F(),d=a.useRef(null),c=a.useContext(je),f=O(),b=Re(e),s=(p=(r=b.current)==null?void 0:r.forceMount)!=null?p:c?.forceMount;_(()=>{if(!s)return f.item(o,c?.id)},[s]);let v=Me(o,d,[e.value,e.children,d],e.keywords),g=de(),E=j(C=>C.value&&C.value===v.current),y=j(C=>s||f.filter()===!1?!0:C.search?C.filtered.items.get(o)>0:!0);a.useEffect(()=>{let C=d.current;if(!(!C||e.disabled))return C.addEventListener(se,k),()=>C.removeEventListener(se,k)},[y,e.onSelect,e.disabled]);function k(){var C,I;W(),(I=(C=b.current).onSelect)==null||I.call(C,v.current)}function W(){g.setState("value",v.current,!0)}if(!y)return null;let{disabled:R,value:V,onSelect:J,forceMount:ce,keywords:X,...M}=e;return a.createElement(N.div,{ref:q(d,n),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!E,"data-disabled":!!R,"data-selected":!!E,onPointerMove:R||f.getDisablePointerSelection()?void 0:W,onClick:R?void 0:k},e.children)}),et=a.forwardRef((e,n)=>{let{heading:r,children:p,forceMount:o,...d}=e,c=F(),f=a.useRef(null),b=a.useRef(null),s=F(),v=O(),g=j(y=>o||v.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);_(()=>v.group(c),[]),Me(c,f,[e.value,e.heading,b]);let E=a.useMemo(()=>({id:c,forceMount:o}),[o]);return a.createElement(N.div,{ref:q(f,n),...d,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&a.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:s},r),H(e,y=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?s:void 0},a.createElement(je.Provider,{value:E},y))))}),tt=a.forwardRef((e,n)=>{let{alwaysRender:r,...p}=e,o=a.useRef(null),d=j(c=>!c.search);return!r&&!d?null:a.createElement(N.div,{ref:q(o,n),...p,"cmdk-separator":"",role:"separator"})}),rt=a.forwardRef((e,n)=>{let{onValueChange:r,...p}=e,o=e.value!=null,d=de(),c=j(s=>s.search),f=j(s=>s.selectedItemId),b=O();return a.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),a.createElement(N.input,{ref:n,...p,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:s=>{o||d.setState("search",s.target.value),r?.(s.target.value)}})}),nt=a.forwardRef((e,n)=>{let{children:r,label:p="Suggestions",...o}=e,d=a.useRef(null),c=a.useRef(null),f=j(s=>s.selectedItemId),b=O();return a.useEffect(()=>{if(c.current&&d.current){let s=c.current,v=d.current,g,E=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=s.offsetHeight;v.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return E.observe(s),()=>{cancelAnimationFrame(g),E.unobserve(s)}}},[]),a.createElement(N.div,{ref:q(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":p,id:b.listId},H(e,s=>a.createElement("div",{ref:q(c,b.listInnerRef),"cmdk-list-sizer":""},s)))}),at=a.forwardRef((e,n)=>{let{open:r,onOpenChange:p,overlayClassName:o,contentClassName:d,container:c,...f}=e;return a.createElement(Le,{open:r,onOpenChange:p},a.createElement(Pe,{container:c},a.createElement(Ue,{"cmdk-overlay":"",className:o}),a.createElement(Fe,{"aria-label":e.label,"cmdk-dialog":"",className:d},a.createElement(Ne,{ref:n,...f}))))}),lt=a.forwardRef((e,n)=>j(r=>r.filtered.count===0)?a.createElement(N.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ot=a.forwardRef((e,n)=>{let{progress:r,children:p,label:o="Loading...",...d}=e;return a.createElement(N.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},H(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),D=Object.assign(Ne,{List:nt,Item:Ze,Input:rt,Group:et,Separator:tt,Dialog:at,Empty:lt,Loading:ot});function st(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function it(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Re(e){let n=a.useRef(e);return _(()=>{n.current=e}),n}var _=typeof window>"u"?a.useEffect:a.useLayoutEffect;function U(e){let n=a.useRef();return n.current===void 0&&(n.current=e()),n}function j(e){let n=de(),r=()=>e(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function Me(e,n,r,p=[]){let o=a.useRef(),d=O();return _(()=>{var c;let f=(()=>{var s;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(s=v.current.textContent)==null?void 0:s.trim():o.current}})(),b=p.map(s=>s.trim());d.value(e,f,b),(c=n.current)==null||c.setAttribute(P,f),o.current=f}),o}var dt=()=>{let[e,n]=a.useState(),r=U(()=>new Map);return _(()=>{r.current.forEach(p=>p()),r.current=new Map},[e]),(p,o)=>{r.current.set(p,o),n({})}};function ut(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function H({asChild:e,children:n},r){return e&&a.isValidElement(n)?a.cloneElement(ut(n),{ref:n.ref},r(n.props.children)):r(n)}var ct={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ue({className:e,...n}){return u.jsx(D,{"data-slot":"command",className:$("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function Ae({className:e,...n}){return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(Ke,{className:"size-4 shrink-0 opacity-50"}),u.jsx(D.Input,{"data-slot":"command-input",className:$("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...n})]})}function _e({className:e,...n}){return u.jsx(D.List,{"data-slot":"command-list",className:$("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function $e({...e}){return u.jsx(D.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function ie({className:e,...n}){return u.jsx(D.Group,{"data-slot":"command-group",className:$("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function De({className:e,...n}){return u.jsx(D.Separator,{"data-slot":"command-separator",className:$("bg-border -mx-1 h-px",e),...n})}function A({className:e,...n}){return u.jsx(D.Item,{"data-slot":"command-item",className:$("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function T({className:e,...n}){return u.jsx("span",{"data-slot":"command-shortcut",className:$("text-muted-foreground ml-auto text-xs tracking-widest",e),...n})}ue.__docgenInfo={description:"",methods:[],displayName:"Command"};Ae.__docgenInfo={description:"",methods:[],displayName:"CommandInput"};_e.__docgenInfo={description:"",methods:[],displayName:"CommandList"};$e.__docgenInfo={description:"",methods:[],displayName:"CommandEmpty"};ie.__docgenInfo={description:"",methods:[],displayName:"CommandGroup"};A.__docgenInfo={description:"",methods:[],displayName:"CommandItem"};T.__docgenInfo={description:"",methods:[],displayName:"CommandShortcut"};De.__docgenInfo={description:"",methods:[],displayName:"CommandSeparator"};const Ft={title:"UI/Command",component:ue,tags:["autodocs"]},B={render:e=>u.jsxs(ue,{className:"rounded-lg border shadow-md md:min-w-[450px]",...e,children:[u.jsx(Ae,{placeholder:"Type a command or search..."}),u.jsxs(_e,{children:[u.jsx($e,{children:"No results found."}),u.jsxs(ie,{heading:"Suggestions",children:[u.jsxs(A,{children:[u.jsx(Ge,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Calendar"})]}),u.jsxs(A,{children:[u.jsx(xe,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"User"})]}),u.jsxs(A,{children:[u.jsx(be,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Launch"})]})]}),u.jsx(De,{}),u.jsxs(ie,{heading:"Settings",children:[u.jsxs(A,{children:[u.jsx(xe,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Profile"}),u.jsx(T,{children:"⌘P"})]}),u.jsxs(A,{children:[u.jsx(qe,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Mail"}),u.jsx(T,{children:"⌘B"})]}),u.jsxs(A,{children:[u.jsx(be,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Settings"}),u.jsx(T,{children:"⌘S"})]})]})]})]})};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: args => <Command className="rounded-lg border shadow-md md:min-w-[450px]" {...args}>
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>
            <CalendarIcon className="mr-2 h-4 w-4" />
            <span>Calendar</span>
          </CommandItem>
          <CommandItem>
            <UserIcon className="mr-2 h-4 w-4" />
            <span>User</span>
          </CommandItem>
          <CommandItem>
            <SettingsIcon className="mr-2 h-4 w-4" />
            <span>Launch</span>
          </CommandItem>
        </CommandGroup>
        <CommandSeparator />
        <CommandGroup heading="Settings">
          <CommandItem>
            <UserIcon className="mr-2 h-4 w-4" />
            <span>Profile</span>
            <CommandShortcut>⌘P</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <MailIcon className="mr-2 h-4 w-4" />
            <span>Mail</span>
            <CommandShortcut>⌘B</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <SettingsIcon className="mr-2 h-4 w-4" />
            <span>Settings</span>
            <CommandShortcut>⌘S</CommandShortcut>
          </CommandItem>
        </CommandGroup>
      </CommandList>
    </Command>
}`,...B.parameters?.docs?.source}}};const Kt=["Default"];export{B as Default,Kt as __namedExportsOrder,Ft as default};
