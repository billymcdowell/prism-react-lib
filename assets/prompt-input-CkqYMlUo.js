import{j as n}from"./jsx-runtime-u17CrQMm.js";import{T as b}from"./textarea-WFWn170-.js";import{T as R,a as I,b as N,c as P}from"./tooltip-b2pU036b.js";import{c as x}from"./utils-CDN07tui.js";import{r as p,a as q}from"./iframe-B1FMP7ev.js";const v=p.createContext({isLoading:!1,value:"",setValue:()=>{},maxHeight:240,onSubmit:void 0,disabled:!1,textareaRef:q.createRef()});function T(){return p.useContext(v)}function w({className:r,isLoading:s=!1,maxHeight:a=240,value:i,onValueChange:o,onSubmit:l,children:t,disabled:u=!1,onClick:g,...c}){const[d,h]=p.useState(i||""),m=p.useRef(null),y=f=>{h(f),o?.(f)},e=f=>{u||m.current?.focus(),g?.(f)};return n.jsx(R,{children:n.jsx(v.Provider,{value:{isLoading:s,value:i??d,setValue:o??y,maxHeight:a,onSubmit:l,disabled:u,textareaRef:m},children:n.jsx("div",{onClick:e,className:x("border-input bg-background cursor-text rounded-sm border p-2 shadow-sm",u&&"cursor-not-allowed opacity-60",r),...c,children:t})})})}function j({className:r,onKeyDown:s,disableAutosize:a=!1,...i}){const{value:o,setValue:l,maxHeight:t,onSubmit:u,disabled:g,textareaRef:c}=T(),d=e=>{!e||a||(e.style.height="auto",typeof t=="number"?e.style.height=`${Math.min(e.scrollHeight,t)}px`:e.style.height=`min(${e.scrollHeight}px, ${t})`)},h=e=>{c.current=e,d(e)};p.useLayoutEffect(()=>{if(!c.current||a)return;const e=c.current;e.style.height="auto",typeof t=="number"?e.style.height=`${Math.min(e.scrollHeight,t)}px`:e.style.height=`min(${e.scrollHeight}px, ${t})`},[o,t,a]);const m=e=>{d(e.target),l(e.target.value)},y=e=>{e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),u?.()),s?.(e)};return n.jsx(b,{ref:h,value:o,onChange:m,onKeyDown:y,className:x("min-h-[44px] w-full resize-none border-none shadow-none outline-none focus-visible:ring-0 focus-visible:ring-offset-0",r),rows:1,disabled:g,...i})}function C({children:r,className:s,...a}){return n.jsx("div",{className:x("flex items-center gap-2",s),...a,children:r})}function V({tooltip:r,children:s,className:a,side:i="top",...o}){const{disabled:l}=T();return n.jsxs(I,{...o,children:[n.jsx(N,{asChild:!0,disabled:l,onClick:t=>t.stopPropagation(),children:s}),n.jsx(P,{side:i,className:a,children:r})]})}w.__docgenInfo={description:"",methods:[],displayName:"PromptInput",props:{isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"string"},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},maxHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"",defaultValue:{value:"240",computed:!1}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};j.__docgenInfo={description:"",methods:[],displayName:"PromptInputTextarea",props:{disableAutosize:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};C.__docgenInfo={description:"",methods:[],displayName:"PromptInputActions"};V.__docgenInfo={description:"",methods:[],displayName:"PromptInputAction",props:{className:{required:!1,tsType:{name:"string"},description:""},tooltip:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},side:{required:!1,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:"",defaultValue:{value:'"top"',computed:!1}}}};export{w as P,j as a,C as b,V as c};
