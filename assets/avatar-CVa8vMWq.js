import{j as l}from"./jsx-runtime-u17CrQMm.js";import{r as u}from"./iframe-C3KMRTyM.js";import{u as j}from"./index-BIznl4Bz.js";import{u as x}from"./index-DuSBl0US.js";import"./index-DtYTIzzJ.js";import{c as P}from"./index-Oq5s9i1g.js";import{s as R}from"./index-J6LJBlCe.js";import{c as S}from"./utils-CDN07tui.js";function k(e,t=[]){let o=[];function n(r,i){const a=u.createContext(i);a.displayName=r+"Context";const c=o.length;o=[...o,i];const d=f=>{const{scope:v,children:g,...p}=f,I=v?.[e]?.[c]||a,N=u.useMemo(()=>p,Object.values(p));return l.jsx(I.Provider,{value:N,children:g})};d.displayName=r+"Provider";function m(f,v){const g=v?.[e]?.[c]||a,p=u.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[d,m]}const s=()=>{const r=o.map(i=>u.createContext(i));return function(a){const c=a?.[e]||r;return u.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,$(s,...t)]}function $(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(r)[`__scope${d}`];return{...a,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return o.scopeName=t.scopeName,o}var M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A=M.reduce((e,t)=>{const o=P(`Primitive.${t}`),n=u.forwardRef((s,r)=>{const{asChild:i,...a}=s,c=i?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F(){return R.useSyncExternalStore(z,()=>!0,()=>!1)}function z(){return()=>{}}var h="Avatar",[H]=k(h),[T,C]=H(h),w=u.forwardRef((e,t)=>{const{__scopeAvatar:o,...n}=e,[s,r]=u.useState("idle");return l.jsx(T,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:r,children:l.jsx(A.span,{...n,ref:t})})});w.displayName=h;var L="AvatarImage",b=u.forwardRef((e,t)=>{const{__scopeAvatar:o,src:n,onLoadingStatusChange:s=()=>{},...r}=e,i=C(L,o),a=B(n,r),c=j(d=>{s(d),i.onImageLoadingStatusChange(d)});return x(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(A.img,{...r,ref:t,src:n}):null});b.displayName=L;var y="AvatarFallback",E=u.forwardRef((e,t)=>{const{__scopeAvatar:o,delayMs:n,...s}=e,r=C(y,o),[i,a]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&r.imageLoadingStatus!=="loaded"?l.jsx(A.span,{...s,ref:t}):null});E.displayName=y;function _(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(e,{referrerPolicy:t,crossOrigin:o}){const n=F(),s=u.useRef(null),r=n?(s.current||(s.current=new window.Image),s.current):null,[i,a]=u.useState(()=>_(r,e));return x(()=>{a(_(r,e))},[r,e]),x(()=>{const c=f=>()=>{a(f)};if(!r)return;const d=c("loaded"),m=c("error");return r.addEventListener("load",d),r.addEventListener("error",m),t&&(r.referrerPolicy=t),typeof o=="string"&&(r.crossOrigin=o),()=>{r.removeEventListener("load",d),r.removeEventListener("error",m)}},[r,o,t]),i}var q=w,D=b,G=E;function K({className:e,...t}){return l.jsx(q,{"data-slot":"avatar",className:S("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function O({className:e,...t}){return l.jsx(D,{"data-slot":"avatar-image",className:S("aspect-square size-full",e),...t})}function V({className:e,...t}){return l.jsx(G,{"data-slot":"avatar-fallback",className:S("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}K.__docgenInfo={description:"",methods:[],displayName:"Avatar"};O.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};V.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};export{K as A,O as a,V as b};
